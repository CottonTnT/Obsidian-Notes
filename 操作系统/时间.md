# 1 时间简史

[计算机时间到底是怎么来的？程序员必看的时间知识！-CSDN博客](https://blog.csdn.net/kevin_tech/article/details/120944679)


# 2 linux进程时间

## 2.1 墙上时钟时间

墙上时钟时间 wall clock time： 又简称时钟时间，从进程开始运行到结束，系统时钟走过的时间（时钟数），包含了进程阻塞、等待的时间。  
每秒钟嘀嗒数， 可通过`sysconf(_SC_CLK_TCK)`获取

注意: 如果调用clock()计算进程/算法运行时间, 是不包括阻塞(含sleep)时间的.

## 2.2 用户CPU时间

用户CPU时间：用户进程在用户态执行时间。

## 2.3 系统CPU时间

系统CPU时间：用户进程在内核态执行时间。

## 2.4 三者之间关系

(墙上)时钟时间 = 阻塞时间 + 就绪时间 + 运行时间  
运行时间 = 用户CPU时间 + 系统CPU时间

## 2.5 \#include <sys/times>

获取进程时间

_**原型**_

```c
#include <sys/times.h>

clock_t times(struct tms *buf);
```

tms结构：

```c
struct tms {
    clock_t tms_utime;  /* user CPU time */
    clock_t tms_stime;  /* system CPU time */
    clock_t tms_cutime; /* user CPU time,terminated children */
    clock_t tms_cstime; /* system CPU time,terminated children */
};
```

_**功能**_  
获取当前进程墙上时钟时间，用户CPU时间，系统CPU时钟时间

_**返回值**_  
1.函数返回墙上时钟时间。  
进程开始和结束时，可以分别获取到2个返回值，做差值即为进程的墙上时钟时间。运行时间足够长可能溢出（可能性较小）

2.输出参数buf，包含用户CPU时间，系统CPU时间。


# 3 C/C++ 时间库


[C++ ctime、chrono时间函数库_c++ ctime 定时执行函数-CSDN博客](https://blog.csdn.net/qq_41939214/article/details/103302935)



```c
struct tm { 
int tm_sec; // seconds after the minute [0-60] 
int tm_min; // minutes after the hour [0-59] 
int tm_hour; // hours since midnight [0-23] 
int tm_mday; // day of the month [1-31] 
int tm_mon; // months since January [0-11] 
int tm_year; // years since 1900 
int tm_wday; // days since Sunday [0-6] 
int tm_yday; // days since January 1 [0-365] 
int tm_isdst; // Daylight Saving Time flag 
};
```